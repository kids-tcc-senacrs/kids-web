<div class="bs-callout bs-callout-warning">{{title}}</div>

<div class="w3-container w3-padding">
    <div id="passo1" [hidden]="hiddenPasso1">
        <div class="bs-callout bs-callout-danger panel-passos"><span class="title-passos">1º Dados Gerais</span></div>
        <br>
        <form #f="ngForm">    
        <!-- MENSAGENS DE ERRO -->
        <div [hidden]="!f.valid || messagesError === null" class="alert alert-danger" role="alert">
                <ul *ngFor="let message of messagesError">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    {{message}}
                </ul>
            </div>

            <!-- MENSAGEM DE SUCESSO -->
            <div [hidden]="!f.valid || messageSuccess === null" class="alert alert-success" role="alert">
                <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                {{messageSuccess}}
            </div>

            <!--MATRICULA-->
            <div class="form-group" [class.has-error]="!matricula.valid && matricula.touched" 
                                    [class.has-success]="matricula.valid && matricula.touched"
                                    [class.has-feedback]="matricula.touched">
                <label for="matricula" class="control-label">Matrícula</label>
                <input id="matricula" name="matricula" #matricula="ngModel" aria-describedby="matricula" [(ngModel)]="crianca.matricula" maxlength="10" type="text" class="form-control" required>
                <span *ngIf="!matricula.valid && matricula.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!matricula.valid && matricula.touched" id="matricula" class="sr-only">(error)</span>
                <span *ngIf="matricula.valid && matricula.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="matricula.valid && matricula.touched" id="matricula" class="sr-only">(success)</span>
                <div *ngIf="!matricula.valid && matricula.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Matrícula é obrigatório.
                </div>
            </div>
            
            <!--NOME-->
            <div class="form-group" [class.has-error]="!nome.valid && nome.touched" 
                                    [class.has-success]="nome.valid && nome.touched"
                                    [class.has-feedback]="nome.touched">
                <label for="nome" class="control-label">Nome</label>
                <input id="nome" name="nome" #nome="ngModel" aria-describedby="nome" [(ngModel)]="crianca.nome" maxlength="60" type="text" class="form-control" required>
                <span *ngIf="!nome.valid && nome.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!nome.valid && nome.touched" id="nome" class="sr-only">(error)</span>
                <span *ngIf="nome.valid && nome.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="nome.valid && nome.touched" id="nome" class="sr-only">(success)</span>
                <div *ngIf="!nome.valid && nome.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Nome é obrigatório.
                </div>
            </div>
            
            <!--DATA NASCIMENTO-->
            <div class="form-group" [class.has-error]="!dtNascimento.valid && dtNascimento.touched" 
                                    [class.has-success]="dtNascimento.valid && dtNascimento.touched"
                                    [class.has-feedback]="dtNascimento.touched">
                <label for="dtNascimento" class="control-label">Data de Nascimento</label>
                <input id="dtNascimento" name="dtNascimento" #dtNascimento="ngModel" aria-describedby="dtNascimento" [(ngModel)]="crianca.dtNascimento" maxlength="8" type="text" class="form-control" required>
                <span *ngIf="!dtNascimento.valid && dtNascimento.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!dtNascimento.valid && dtNascimento.touched" id="dtNascimento" class="sr-only">(error)</span>
                <span *ngIf="dtNascimento.valid && dtNascimento.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="dtNascimento.valid && dtNascimento.touched" id="dtNascimento" class="sr-only">(success)</span>
                <div *ngIf="!dtNascimento.valid && dtNascimento.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Data de Nascimento é obrigatório.
                </div>
            </div>

            <!--BOTAO CONCLUIR ATUALIZACAO-->
            <button id="btnProximo" [disabled]="!f.valid" (click)="proximoPasso(2)" type="button" class="btn btn-primary">
            {{titleButtonProximo}}
            </button>
            
        </form>
    </div>    

    <!--ENDEREÇO-->
    <div id="passo2" [hidden]="hiddenPasso2">
        <div class="bs-callout bs-callout-danger panel-passos"><span class="title-passos">2º Endereço</span></div>
        <br>
        <form #f2="ngForm">    
        <!-- MENSAGENS DE ERRO -->
        <div [hidden]="!f.valid || messagesError === null" class="alert alert-danger" role="alert">
                <ul *ngFor="let message of messagesError">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    {{message}}
                </ul>
            </div>

            <!-- MENSAGEM DE SUCESSO -->
            <div [hidden]="!f2.valid || messageSuccess === null" class="alert alert-success" role="alert">
                <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                {{messageSuccess}}
            </div>

            <!--CEP-->
            <div class="form-group" [class.has-error]="!cep.valid && cep.touched" 
                                    [class.has-success]="cep.valid && cep.touched"
                                    [class.has-feedback]="cep.touched">
                <label for="cep" class="control-label">Cep</label>
                <input id="cep" name="cep" #cep="ngModel" (keyup)="onchangeCep(cep.value)" (focus)="onfocusCep()" [(ngModel)]="crianca.endereco.cep" maxlength="8" type="text" class="form-control" required>
                <span *ngIf="!cep.valid && cep.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!cep.valid && cep.touched" id="cep" class="sr-only">(error)</span>
                <span *ngIf="cep.valid && cep.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="cep.valid && cep.touched" id="cep" class="sr-only">(success)</span>
                <div *ngIf="!cep.valid && cep.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Cep é obrigatório.
                </div>
            </div>

            <!--LOGRADOURO-->
            <div class="form-group" [class.has-error]="!logradouro.valid && logradouro.touched" 
                                    [class.has-success]="logradouro.valid && logradouro.touched"
                                    [class.has-feedback]="logradouro.touched">
                <label for="logradouro" class="control-label">Logradouro</label>
                <input id="logradouro" name="logradouro" #logradouro="ngModel" (focus)="onfocusLogradouro()" [(ngModel)]="crianca.endereco.logradouro" maxlength="60" type="text" class="form-control" required>
                <span *ngIf="!logradouro.valid && logradouro.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!logradouro.valid && logradouro.touched" id="logradouro" class="sr-only">(error)</span>
                <span *ngIf="logradouro.valid && logradouro.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="logradouro.valid && logradouro.touched" id="logradouro" class="sr-only">(success)</span>
                <div *ngIf="!logradouro.valid && logradouro.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Logradouro é obrigatório.
                </div>
            </div>

            <!--LOCALIZACAO-->
            <div class="form-group">
                <label>Localização</label>
                <input id="localizacao" name="localizacao" [(ngModel)]="crianca.endereco.localizacao" maxlength="100" type="text" class="form-control" disabled>            
            </div>
            
            <!--BOTAO ANTERIOR-->
            <button type="button" (click)="proximoPasso(1)" class="btn btn-primary">
            {{titleButtonAnterior}}
            </button>
            <!--BOTAO PROXIMO-->
            <button [disabled]="!f2.valid" type="button" (click)="proximoPasso(3)" class="btn btn-primary">
            {{titleButtonProximo}}
            </button>
            
        </form>
    </div>    

    <!--CONTATO-->
    <div id="passo3" [hidden]="hiddenPasso3">
        <div class="bs-callout bs-callout-danger panel-passos"><span class="title-passos">3º Contato</span></div>
        <br>
        <form #f3="ngForm">    
        <!-- MENSAGENS DE ERRO -->
        <div [hidden]="!f3.valid || messagesError === null" class="alert alert-danger" role="alert">
                <ul *ngFor="let message of messagesError">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    {{message}}
                </ul>
            </div>

            <!-- MENSAGEM DE SUCESSO -->
            <div [hidden]="!f3.valid || messageSuccess === null" class="alert alert-success" role="alert">
                <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                {{messageSuccess}}
            </div>

            <!--RESPONSÁVEL-->
            <div class="form-group" [class.has-error]="!responsavel.valid && responsavel.touched" 
                            [class.has-success]="responsavel.valid && responsavel.touched"
                            [class.has-feedback]="responsavel.touched">
                <label for="responsavel" class="control-label">Responsável Legal</label>
                <input id="responsavel" name="responsavel" #responsavel="ngModel" [(ngModel)]="crianca.contato.responsavel" maxlength="60" type="text" class="form-control" required>
                <span *ngIf="!responsavel.valid && responsavel.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!responsavel.valid && responsavel.touched" id="responsavel" class="sr-only">(error)</span>
                <span *ngIf="responsavel.valid && responsavel.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="responsavel.valid && responsavel.touched" id="responsavel" class="sr-only">(success)</span>
                <div *ngIf="!responsavel.valid && responsavel.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Responsável Legal é obrigatório.
                </div>
            </div>

            <!--EMAIL-->
            <div class="form-group" [class.has-error]="!email.valid && email.touched" 
                                    [class.has-success]="email.valid && email.touched"
                                    [class.has-feedback]="email.touched">
                <label for="email" class="control-label">E-mail</label>
                <input id="email" name="email" #email="ngModel" aria-describedby="email" [(ngModel)]="crianca.contato.email" maxlength="255" type="text" class="form-control" required>
                <span *ngIf="!email.valid && email.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!email.valid && email.touched" id="email" class="sr-only">(error)</span>
                <span *ngIf="email.valid && email.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="email.valid && email.touched" id="email" class="sr-only">(success)</span>
                <div *ngIf="!email.valid && email.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Email é obrigatório.
                </div>
            </div>

            <!--FONE PRINCIPAL-->
            <div class="form-group" [class.has-error]="!fonePrincipal.valid && fonePrincipal.touched" 
                                    [class.has-success]="fonePrincipal.valid && fonePrincipal.touched"
                                    [class.has-feedback]="fonePrincipal.touched">
                <label for="fonePrincipal" class="control-label">Fone Principal</label>
                <input id="fonePrincipal" name="fonePrincipal" #fonePrincipal="ngModel" aria-describedby="fonePrincipal" [(ngModel)]="crianca.contato.fonePrincipal" maxlength="20" type="text" class="form-control" required>
                <span *ngIf="!fonePrincipal.valid && fonePrincipal.touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!fonePrincipal.valid && fonePrincipal.touched" id="fonePrincipal" class="sr-only">(error)</span>
                <span *ngIf="fonePrincipal.valid && fonePrincipal.touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="fonePrincipal.valid && fonePrincipal.touched" id="fonePrincipal" class="sr-only">(success)</span>
                <div *ngIf="!fonePrincipal.valid && fonePrincipal.touched" class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    Fone Principal é obrigatório.
                </div>
            </div>
            
            <!--FONE OUTRO-->
            <div class="form-group" [class.has-error]="!foneOutro.valid && foneOutro.touched" 
                                    [class.has-success]="foneOutro.valid && foneOutro.touched"
                                    [class.has-feedback]="foneOutro.touched">
                <label for="foneOutro" class="control-label">Fone Outros</label>
                <input id="foneOutro" name="foneOutro" #foneOutro="ngModel" aria-describedby="foneOutro" [(ngModel)]="crianca.contato.foneOutro" maxlength="20" type="text" class="form-control">	
            </div>
            
            <!--BOTAO ANTERIOR-->
            <button type="button" (click)="proximoPasso(2)" class="btn btn-primary">
            {{titleButtonAnterior}}
            </button>
            <!--BOTAO PROXIMO-->
            <button [disabled]="!f3.valid" type="button" (click)="proximoPasso(4)" class="btn btn-primary">
            {{titleButtonProximo}}
            </button>
            
        </form>
    </div>    

    <!--MEDICAMENTO-->
    <div id="passo4" [hidden]="hiddenPasso4">
        <div class="bs-callout bs-callout-danger panel-passos"><span class="title-passos">4º Medicamento</span></div>
        <br>
        <form #f4="ngForm">    
        <!-- MENSAGENS DE ERRO -->
        <div [hidden]="!f4.valid || messagesError === null" class="alert alert-danger" role="alert">
                <ul *ngFor="let message of messagesError">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    {{message}}
                </ul>
            </div>

            <!-- MENSAGEM DE SUCESSO -->
            <div [hidden]="!f4.valid || messageSuccess === null" class="alert alert-success" role="alert">
                <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                {{messageSuccess}}
            </div>
            <!--BOTAO ANTERIOR-->
            <button type="button" (click)="proximoPasso(3)" class="btn btn-primary">
            {{titleButtonAnterior}}
            </button>
            <!--BOTAO PROXIMO-->
            <button [disabled]="!f4.valid" type="button" (click)="proximoPasso(5)" class="btn btn-primary">
            {{titleButtonProximo}}
            </button>
        </form>
    </div>    

    <!--ALERGIA-->
    <div id="passo5" [hidden]="hiddenPasso5">
        <div class="bs-callout bs-callout-danger panel-passos"><span class="title-passos">5º Alergia</span></div>
        <br>
        <form #f5="ngForm">    
        <!-- MENSAGENS DE ERRO -->
        <div [hidden]="!f5.valid || messagesError === null" class="alert alert-danger" role="alert">
                <ul *ngFor="let message of messagesError">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    {{message}}
                </ul>
            </div>

            <!-- MENSAGEM DE SUCESSO -->
            <div [hidden]="!f5.valid || messageSuccess === null" class="alert alert-success" role="alert">
                <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                {{messageSuccess}}
            </div>
            <!--BOTAO ANTERIOR-->
            <button type="button" (click)="proximoPasso(4)" class="btn btn-primary">
            {{titleButtonAnterior}}
            </button>
            <!--BOTAO PROXIMO-->
            <button [disabled]="!f5.valid" type="button" (click)="salvar()" class="btn btn-success">
            {{titleButtonSalvar}}
            </button>
        </form>
    </div>    

</div>